<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
    <title>Brylie Mae Photography</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css" />
    </noscript>
</head>

<body class="is-preload">

    <!-- Wrapper -->
    <div id="wrapper" class="fade-in">

        <!-- Intro -->
        <div id="intro">
            <h1>Brylie Mae<br />
                Photography</h1>
            <p>Your personal photographer, capturing life's moments with artistry and passion. From intimate portraits
                to<br />
                breathtaking landscapes, I'm here to transform your memories into timeless treasures.</p>
            <!--<button type="button" class="btn btn-outline-light">Portfolio</button>-->
            <div></div>
            <ul class="actions">
                <li><a href="#header" class="button icon solid solo fa-arrow-down scrolly">Continue</a></li>
            </ul>
        </div>

        <!-- Header -->
        <header id="header">
            <a href="index.html" class="logo">Brylie Mae</a>
        </header>

        <!-- Nav -->
        <nav id="nav">
            <ul class="links">
                <li><a href="index.html">Home</a></li>
                <li class="active"><a href="portfolio.html">Portfolio</a></li>
                <li><a href="about.html">About me</a></li>
                <li><a href="bookings.html">Bookings</a></li>
            </ul>
            <ul class="icons">
                <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="https://www.facebook.com/brylie.conover?mibextid=LQQJ4d"
                        class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a>
                </li>
                <li><a href="https://www.instagram.com/bryliemaephotography?igsh=MTN3Mjc5Y2Y2d2I3Mg=="
                        class="icon brands alt fa-instagram"><span class="label">Instagram</span></a>
                </li>
            </ul>
        </nav>

        <!-- Main -->
        <div id="main">

            <!-- Posts -->
            <section class="posts" id="specific-spot">
                <article>
                    <header>
                        <span class="date">December 1, 2024</span>
                        <h2><a href="photos.html?folder=BillAndEmily">Bill And Emily<br />
                            </a></h2>
                    </header>
                    <a href="photos.html?folder=BillAndEmily" class="image fit"><img
                            src="portfolio/BillAndEmily/cover.jpg" alt="" /></a>
                    <p>A cute country couple out in the woods on the stones of bee rock, can it get much better than
                        that?
                    </p>
                    <ul class="actions special">
                        <li><a href="photos.html?folder=BillAndEmily" class="button">Photo Library</a></li>
                    </ul>
                </article>
                <article>
                    <header>
                        <span class="date">April 22, 2017</span>
                        <h2><a href="#">Primis eget<br />
                                imperdiet lorem</a></h2>
                    </header>
                    <a href="#" class="image fit"><img src="images/pic03.jpg" alt="" /></a>
                    <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque
                        venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                    <ul class="actions special">
                        <li><a href="#" class="button">Full Story</a></li>
                    </ul>
                </article>
                <article>
                    <header>
                        <span class="date">April 18, 2017</span>
                        <h2><a href="#">Ante mattis<br />
                                interdum dolor</a></h2>
                    </header>
                    <a href="#" class="image fit"><img src="images/pic04.jpg" alt="" /></a>
                    <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque
                        venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                    <ul class="actions special">
                        <li><a href="#" class="button">Full Story</a></li>
                    </ul>
                </article>
                <article>
                    <header>
                        <span class="date">April 14, 2017</span>
                        <h2><a href="#">Tempus sed<br />
                                nulla imperdiet</a></h2>
                    </header>
                    <a href="#" class="image fit"><img src="images/pic05.jpg" alt="" /></a>
                    <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque
                        venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                    <ul class="actions special">
                        <li><a href="#" class="button">Full Story</a></li>
                    </ul>
                </article>
                <article>
                    <header>
                        <span class="date">April 11, 2017</span>
                        <h2><a href="#">Odio magna<br />
                                sed consectetur</a></h2>
                    </header>
                    <a href="#" class="image fit"><img src="images/pic06.jpg" alt="" /></a>
                    <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque
                        venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                    <ul class="actions special">
                        <li><a href="#" class="button">Full Story</a></li>
                    </ul>
                </article>
                <article>
                    <header>
                        <span class="date">April 7, 2017</span>
                        <h2><a href="#">Augue lorem<br />
                                primis vestibulum</a></h2>
                    </header>
                    <a href="#" class="image fit"><img src="images/pic07.jpg" alt="" /></a>
                    <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque
                        venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                    <ul class="actions special">
                        <li><a href="#" class="button">Full Story</a></li>
                    </ul>
                </article>
            </section>

            <!-- Footer -->
            <footer>
                <div class="pagination" id="pages">
                    <!--<a href="#" class="previous">Prev</a>-->
                    <a href="#" class="page active">1</a>
                    <a href="#" class="page">2</a>
                    <a href="#" class="page">3</a>
                    <span class="extra">&hellip;</span>
                    <a href="#" class="page">8</a>
                    <a href="#" class="page">9</a>
                    <a href="#" class="page">10</a>
                    <a class="next" onclick="nextPage()">Next</a>
                </div>
            </footer>

        </div>

        <!-- Footer -->
        <footer id="footer">

			<section class="split contact">
				<section class="alt">
					<h3>Location</h3>
					<p>Cookville, TN<br />
					</p>
				</section>
				<section>
					<h3>Email</h3>
					<p><a href="mailto:bryliemaephotography@gmail.com">bryliemaephotography@gmail.com</a></p>
				</section>
				<!--
				<form method="post" action="#">
					<div class="fields">
						<div class="field">
							<label for="name">Name</label>
							<input type="text" name="name" id="name" />
						</div>
						<div class="field">
							<label for="email">Email</label>
							<input type="text" name="email" id="email" />
						</div>
						<div class="field">
							<label for="message">Message</label>
							<textarea name="message" id="message" rows="3"></textarea>
						</div>
					</div>
					<ul class="actions">
						<li><input type="submit" value="Send Message" /></li>
					</ul>
				</form>-->
			</section>
			<section class="split contact">
				<section>
					<h3>Phone</h3>
					<p><a href="#">((931) 303-1638)</a></p>
				</section>
				<section>
					<h3>Social</h3>
					<ul class="icons alt">
						<li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="https://www.facebook.com/brylie.conover?mibextid=LQQJ4d"
								class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a>
						</li>
						<li><a href="https://www.instagram.com/bryliemaephotography?igsh=MTN3Mjc5Y2Y2d2I3Mg=="
								class="icon brands alt fa-instagram"><span class="label">Instagram</span></a>
						</li>
					</ul>
				</section>
			</section>
		</footer>

        <!-- Copyright -->
        <div id="copyright">
            <ul>
                <li>&copy; Brylie Mae Photography</li>
                <li>Design from: <a href="https://html5up.net">HTML5 UP</a></li>
                <li>Designer: <a href="https://www.madfinndevelopmentco.com/">MFD Co.</a></li>
            </ul>
        </div>

    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>

    <script>

        var link = "https://finlaypatoto.github.io/BrylieMaePhotography/portfolio/";
        window.onload = function () {
           const postsContainer = document.querySelector('.posts');
            const perPage = 6;
            let currentPage = 0;
            let portfolioNames = [];

            async function renderPage() {
                postsContainer.innerHTML = '';
                const startIndex = currentPage * perPage;
                const endIndex = startIndex + perPage;

                const currentPageNames = portfolioNames.slice(startIndex, endIndex);


                // PAGE SELECTION
                const paginationContainer = document.getElementById('pages');
                paginationContainer.innerHTML = '';
                const totalPages = Math.ceil(portfolioNames.length / perPage);

                // Determine range of pages to display
                let startPage, endPage;
                if (totalPages <= 6) {
                    startPage = 1;
                    endPage = totalPages;
                } else {
                    if (currentPage <= 3) {
                        startPage = 1;
                        endPage = 5;
                    } else if (currentPage >= totalPages - 2) {
                        startPage = totalPages - 4;
                        endPage = totalPages;
                    } else {
                        startPage = currentPage - 2;
                        endPage = currentPage + 2;
                    }
                }

                // Previous button
                const prevButton = document.createElement('a');
                prevButton.textContent = 'Previous';
                prevButton.classList.add('previous');
                prevButton.addEventListener('click', prevPage);
                paginationContainer.appendChild(prevButton);

                // Generate pagination links
                for (let i = startPage; i <= endPage; i++) {
                    const pageLink = document.createElement('a');
                    pageLink.textContent = i;
                    pageLink.classList.add('page');
                    if (i === currentPage + 1) {
                        pageLink.classList.add('active');
                    }
                    pageLink.addEventListener('click', function () {
                        setPage(i - 1); // Subtract 1 to convert to zero-based index
                    });
                    paginationContainer.appendChild(pageLink);
                }

                // Add ellipsis if needed
                if (totalPages > 6) {
                    if (startPage > 1) {
                        const ellipsis = document.createElement('span');
                        ellipsis.classList.add('extra');
                        ellipsis.textContent = '...';
                        paginationContainer.insertBefore(ellipsis, paginationContainer.children[2]);
                    }
                    if (endPage < totalPages) {
                        const ellipsis = document.createElement('span');
                        ellipsis.classList.add('extra');
                        ellipsis.textContent = '...';
                        paginationContainer.appendChild(ellipsis);

                        const pageLink = document.createElement('a');
                        pageLink.textContent = totalPages;
                        pageLink.classList.add('page');
                        pageLink.addEventListener('click', function () {
                            setPage(totalPages - 1); // Subtract 1 to convert to zero-based index
                        });
                        paginationContainer.appendChild(pageLink);
                    }
                }

                // Next button
                const nextButton = document.createElement('a');
                nextButton.textContent = 'Next';
                nextButton.classList.add('next');
                nextButton.addEventListener('click', nextPage);
                paginationContainer.appendChild(nextButton);



                // LOADING DATA
                for (const name of currentPageNames) {
                    const url = link + name + "/info.txt";
                    const article = document.createElement('article');
                    const header = document.createElement('header');
                    const dateSpan = document.createElement('span');
                    dateSpan.classList.add('date');
                    dateSpan.textContent = await getDate(url); // Wait for getDate to complete
                    header.appendChild(dateSpan);

                    const h2 = document.createElement('h2');
                    const a = document.createElement('a');
                    a.href = `photos.html?folder=${name}`;
                    a.textContent = await getName(url); // Wait for getName to complete
                    h2.appendChild(a);
                    header.appendChild(h2);
                    article.appendChild(header);

                    const imageLink = document.createElement('a');
                    imageLink.href = `photos.html?folder=${name}`;
                    imageLink.classList.add('image', 'fit');
                    const image = document.createElement('img');
                    image.src = `portfolio/${name}/cover.jpg`;
                    image.alt = '';
                    imageLink.appendChild(image);
                    article.appendChild(imageLink);

                    const p = document.createElement('p');
                    p.textContent = await getDescription(url); // Wait for getDescription to complete
                    article.appendChild(p);

                    const ul = document.createElement('ul');
                    ul.classList.add('actions', 'special');
                    const li = document.createElement('li');
                    const buttonLink = document.createElement('a');
                    buttonLink.href = `photos.html?folder=${name}`;
                    buttonLink.classList.add('button');
                    buttonLink.textContent = 'Photo Library';
                    li.appendChild(buttonLink);
                    ul.appendChild(li);
                    article.appendChild(ul);

                    postsContainer.appendChild(article);
                }

            }
            async function sortNamesByDate(names) {
                // Array to store objects containing name and date
                const nameDateArray = [];

                console.log(names);
                // Iterate through the list of names and get dates
                for (const name of names) {
                    try {
                        const date = await getDate(link + name + "/info.txt"); // Assuming getDate(name) returns a Promise
                        nameDateArray.push({ name, date });
                    } catch (error) {
                        console.error(`Error fetching date for ${name}:`, error);
                        // Handle error if needed
                    }
                }

                // Sort the array based on dates
                nameDateArray.sort((a, b) => {
                    return new Date(b.date) - new Date(a.date);
                });

                // Extract sorted names from the sorted array
                const sortedNames = nameDateArray.map(item => item.name);

                // Return the sorted list of names
                return sortedNames;
            }

            function scrollToSpecificSpot() {
                // Select the element you want to scroll to
                const specificSpot = document.getElementById('specific-spot');
                // Use the scrollIntoView method to scroll to that element
                specificSpot.scrollIntoView({ behavior: 'smooth', block: 'start', inline: 'nearest' });
            }

            // Function to handle next page navigation
            window.nextPage = function () {
                if ((currentPage + 1) * perPage < portfolioNames.length) {
                    currentPage++;
                    renderPage();
                    scrollToSpecificSpot();
                }
            }

            // Function to handle previous page navigation
            window.prevPage = function () {
                if (currentPage > 0) {
                    currentPage--;
                    renderPage();
                    scrollToSpecificSpot();
                }
            }

            // Function to handle previous page navigation
            window.setPage = function (page) {
                currentPage = page;
                renderPage();
                scrollToSpecificSpot();
            }

            // Initialize data fetching and rendering
            //fetchData();



            extractFolderNames();

            async function extractFolderNames() {
               /* var htmlContent = await getFolders(link + "/");
                // Regular expression to match folder names between ><
                const regex = /\/([^\/>]+)\/">/g;
                const folderNames = [];
                let match;
                while ((match = regex.exec(htmlContent)) !== null) {
                    folderNames.push(match[1]);
                }

                // Remove folder names containing "html5"
                folderNames.forEach((folderName, index) => {
                    if (folderName.includes('html5')) {
                        folderNames.splice(index, 1);
                    }
                });

                console.log(folderNames);*/
		 const folderNames = await readNamesFromFile();
                console.log(folderNames);
		    


                portfolioNames = await sortNamesByDate(folderNames);
                console.log(portfolioNames);

                //portfolioNames = folderNames;
                renderPage();
                return folderNames;
            }

            // Event listeners for pagination buttons
            //document.getElementById('prevPageBtn').addEventListener('click', prevPage);
            //document.getElementById('nextPageBtn').addEventListener('click', nextPage);
        };
async function readNamesFromFile() {
    try {
        const response = await fetch('names.json');
        const jsonData = await response.json();
        return jsonData.names;
    } catch (error) {
        console.error('Error reading names from file:', error);
        return [];
    }
}
        async function getName(url) {
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.text();
                const lines = data.split('\n');
                return lines[0];
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
                return '';
            }
        }

        async function getDate(url) {
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.text();
                const lines = data.split('\n');
                return lines[1];
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
                return '';
            }
        }

        async function getDescription(url) {
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.text();
                const lines = data.split('\n');
                return lines[2];
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
                return '';
            }
        }

        async function getFolders(url) {
		    console.log(url);
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.text();
                const lines = data.split('\n');
                console.log(lines[2]);
                return lines[2];
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
                return '';
            }
        }

    </script>
</body>

</html>
